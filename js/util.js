!function(a){function e(e,t,o,n){mui.ajax(a.API_CONFIG.examineStudent,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",data:{studentId:e,status:t},timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),o&&o(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})}function e(e,t,o,n){mui.ajax(a.API_CONFIG.examineStudent,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,data:{studentId:e,status:t},success:function(e){a.methodUtil.refreshTokenTimer(),o&&o(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})}a.dataUtil={login:function(e,t,o,n,i){mui.ajax(a.API_CONFIG.login,{data:{userName:e,passWord:t,gPassWord:o,userType:"3"},type:"POST",dataType:"json",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){n&&n(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,i)}})},getWeather:function(e,t,n){mui.ajax({url:a.API_CONFIG.getWeather,headers:{token:a.methodUtil.token()},type:"POST",dataType:"json",timeout:a.GLOBAL_CONFIG.timeOut,data:{cityName:e},success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},getActivityList:function(e,t,n){e=e||a.API_CONFIG.getActivityList,mui.ajax(e,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},getTrainList:function(e,t,n){e=e||a.API_CONFIG.getTrainList,mui.ajax(e,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},getActivityDetail:function(e,t,n){mui.ajax(a.API_CONFIG.getActivityDetail,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",data:{id:e},timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},sendCheckMsg:function(e,t,o,n){mui.ajax(a.API_CONFIG.sendCheckMsg,{dataType:"json",type:"POST",data:{phone:e,smsType:t},timeout:3e3,success:function(e){o&&o(e)},error:function(e,t,o){}})},getListRecommend:function(e,t,n){e=e||a.API_CONFIG.getListRecommend,mui.ajax(e,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},getNewsList:function(e,t,n){e=e||a.API_CONFIG.getNewsList,mui.ajax(e,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},getArticleList:function(e,t,n){e=e||a.API_CONFIG.getArticleList,mui.ajax(e,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},getNewsComment:function(e,t,n){mui.ajax(a.API_CONFIG.getNewsComment,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",data:{newsId:e},timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},getNewsDetail:function(e,t,n){mui.ajax(a.API_CONFIG.getNewsDetail,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",data:{id:e},timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},userRegister:function(e,t,o,n,i){mui.ajax(a.API_CONFIG.userRegister,{dataType:"json",type:"POST",data:{phone:e,verificationCode:t,userPassword:o},timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){n&&n(e)},error:function(e,t,o){}})},getAreaList:function(t,e){mui.ajax(a.API_CONFIG.getAreaList,{dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){t&&t(e)},error:function(e,t,o){}})},getClassName:function(e,t,o){mui.ajax(a.API_CONFIG.getClassName,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",data:e,timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){t&&t(e)},error:function(e,t,o){}})},getLinkage:function(e,t,o){mui.ajax(a.API_CONFIG.getAreaList,{dataType:"json",type:"POST",data:{parentId:e},timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){t&&t(e)},error:function(e,t,o){}})},updatePassword:function(e,t,o,n,i,r){mui.ajax(a.API_CONFIG.updatePassword,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",data:{userName:e,passWord:t,newPassWord:o,newGPassWord:n},timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),i&&i(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,r)}})},closeGpassword:function(t,n){mui.ajax(a.API_CONFIG.closeGpassword,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},saveStudent:function(e,t,o){mui.ajax(a.API_CONFIG.saveStudent,{dataType:"json",type:"POST",data:e,timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){t&&t(e)},error:function(e,t,o){}})},getAnnoucementList:function(e,t,n){e=e||a.API_CONFIG.getAnnoucementList,mui.ajax(e,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},addComment:function(e,t,o,n,i){mui.ajax(a.API_CONFIG.addComment,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",data:{newsId:e,content:t,ReplyId:o},timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),n&&n(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,i)}})},collectActivity:function(e,t,o,n){mui.ajax(a.API_CONFIG.collectActivity,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",data:{id:e,activityOrInfo:t},timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),o&&o(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},cancelCollect:function(e,t,o,n){mui.ajax(a.API_CONFIG.cancelCollect,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",data:{collectionId:e,activityOrInfo:t},timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),o&&o(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},getCredits:function(e,t,n){mui.ajax(a.API_CONFIG.getCredits,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",data:{creditType:e},timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},produceCredits:function(e,t,n){mui.ajax(a.API_CONFIG.produceCredits,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",data:{creditType:e},timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},getSignList:function(e,t,n){e=e||a.API_CONFIG.getSignList,mui.ajax(e,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},activitySignIn:function(e,t,o,n){mui.ajax(a.API_CONFIG.activitySignIn,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",data:{activityId:e,status:t},success:function(e){a.methodUtil.refreshTokenTimer(),o&&o(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},forgotPwd:function(e,t,o,n,i){mui.ajax(a.API_CONFIG.forgotPwd,{dataType:"json",type:"POST",data:{verificationCode:e,loginName:t,userPassword:o},timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){n&&n(e)},error:function(e,t,o){}})},collectList:function(e,t,n){e=e||a.API_CONFIG.collectList,mui.ajax(e,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},addNewsPraise:function(e,t,o,n){mui.ajax(a.API_CONFIG.addNewsPraise,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",data:{newsId:e,delFlag:t},success:function(e){a.methodUtil.refreshTokenTimer(),o&&o(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},addSquadron:function(e,t,n){mui.ajax(a.API_CONFIG.addSquadron,{headers:{token:a.methodUtil.token()},data:e,dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},delCircleItem:function(e,t,n){mui.ajax(a.API_CONFIG.delCircleItem,{headers:{token:a.methodUtil.token()},data:{id:e},dataType:"json",type:"POST",success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},praiseCircleItem:function(e,t,n){mui.ajax(a.API_CONFIG.praiseCircleItem,{headers:{token:a.methodUtil.token()},data:{circleId:e},dataType:"json",type:"POST",success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},cancelPraise:function(e,t,n){mui.ajax(a.API_CONFIG.cancelPraise,{headers:{token:a.methodUtil.token()},data:{circleId:e},dataType:"json",type:"POST",success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},getFeedbackList:function(e,t,n){e=e||a.API_CONFIG.getFeedbackList,mui.ajax(e,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},addFeedback:function(e,t,n){mui.ajax(a.API_CONFIG.addFeedback,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",data:{content:e},timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},circleList:function(e,t,n){e=e||a.API_CONFIG.circleList,mui.ajax(e,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},getListData:function(e,t,n){e=e||a.API_CONFIG.listData,mui.ajax(e,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},getActivityWorksDetail:function(e,t,n){mui.ajax(a.API_CONFIG.myActivityDetail,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,data:{id:e},success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},addWork:function(e,t,n){mui.ajax(a.API_CONFIG.uploadWork,{headers:{token:a.methodUtil.token()},data:e,dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},getWorkInfo:function(e,t,n){mui.ajax(a.API_CONFIG.myWork,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,data:{activityId:e},success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},getMyPoints:function(e,t,n){e=e||a.API_CONFIG.getMyPoints,mui.ajax(e,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},tokenExchange:function(t,n){mui.ajax(a.API_CONFIG.tokenExchange,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:3e3,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},myActivity:function(t,n){mui.ajax(a.API_CONFIG.myActivity,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},getListScenic:function(e,t,n){mui.ajax(a.API_CONFIG.listScenic,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,data:{areaId:e},success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},listScenicDetail:function(e,t,n){mui.ajax(a.API_CONFIG.listScenicDetail,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,data:{id:e},success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},listRoute:function(t,n){mui.ajax(a.API_CONFIG.listRoute,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},listRouteDetail:function(e,t,n){mui.ajax(a.API_CONFIG.listRouteDetail,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,data:{routeId:e},success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},getNewActivityList:function(e,t,o,n){t=t||a.API_CONFIG.getNewActivityList,mui.ajax(t,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",data:{themeId:e},timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),o&&o(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},getAreaSenseList:function(t,n){mui.ajax(a.API_CONFIG.getAreaSenseList,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},userRegisterNjqc:function(e,t,o,n,i){mui.ajax(a.API_CONFIG.userRegisterNjqc,{dataType:"json",type:"POST",data:{phone:e,verificationCode:t,userPassword:o},timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){n&&n(e)},error:function(e,t,o){}})},getUserInfo:function(e,t,n){mui.ajax(a.API_CONFIG.getUserInfo,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",data:{userId:e},timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},saveUserInfo:function(e,t,n){mui.ajax(a.API_CONFIG.saveUserInfo,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",data:e,timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},changeImage:function(e,t,o,n){mui.ajax(a.API_CONFIG.changeImage,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",data:{userId:e,photo:t},timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),o&&o(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},MD5String:function(e,t,n){mui.ajax(a.API_CONFIG.MD5String,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",data:e,timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},validateHaveChildren:function(t,n){mui.ajax(a.API_CONFIG.validateHaveChildren,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},findStudentList:function(t,n){mui.ajax(a.API_CONFIG.findStudentList,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},addStudent:function(e,t,n){mui.ajax(a.API_CONFIG.addStudent,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",data:e,timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},switchRole:function(e,t,n){mui.ajax(a.API_CONFIG.switchRole,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",data:{id:e},timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},changeManageRole:function(e,t,n){mui.ajax(a.API_CONFIG.changeManageRole,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",data:{roleId:e},timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},getRoleList:function(t,n){mui.ajax(a.API_CONFIG.getRoleList,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},getByClass:function(e,t,n){e=e||a.API_CONFIG.getByClass,mui.ajax(e,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},getGoodsList:function(e,t,o,n){t=t||a.API_CONFIG.getGoodsList,mui.ajax(t,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),o&&o(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},getMyMedalCount:function(t,n){mui.ajax(a.API_CONFIG.getMyMedalCount,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},getMyActivityCount:function(t,n){mui.ajax(a.API_CONFIG.getMyActivityCount,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},getScheduleList:function(e,t,n){e=e||a.API_CONFIG.getScheduleList,mui.ajax(e,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},getActivityListInSign:function(t,n){mui.ajax(a.API_CONFIG.fnGetActivityListInSign,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},myMedal:function(t,n){mui.ajax(a.API_CONFIG.myMedal,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},examineStudent:e,getExchangeList:function(e,t,n){e=e||a.API_CONFIG.getExchangeList,mui.ajax(e,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},examineStudent:e,themeContainsActivities:function(t,n){mui.ajax(a.API_CONFIG.themeContainsActivities,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},delActivityWorksDetail:function(e,t,n){mui.ajax(a.API_CONFIG.delActivityWorksDetail,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,data:{deleteIds:e},success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},getSerVersion:function(t,n){var e=a.APP_UPDATE_SERVER;mui.ajax(e,{headers:{token:a.methodUtil.token()},dataType:"json",type:"GET",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},deleteChild:function(e,t,n){var o=a.API_CONFIG.deleteChild;mui.ajax(o,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,data:{deleteIds:e},success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},scanCode:function(e,t,n){var o=a.API_CONFIG.scanCode;mui.ajax(o,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,data:{pointGoodsId:e.pointGoodsId,defaultChildId:e.defaultChildId},success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},getSTS:function(t,n){var e=a.UPLOAD_URL;mui.ajax(e,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},cancelActivity:function(e,t,n){var o=a.API_CONFIG.cancelActivity;mui.ajax(o,{headers:{token:a.methodUtil.token()},dataType:"json",type:"POST",timeout:a.GLOBAL_CONFIG.timeOut,data:{id:e},success:function(e){a.methodUtil.refreshTokenTimer(),t&&t(e)},error:function(e,t,o){a.methodUtil.checkToken(e,t,o,n)}})},checkVideoSuccessOrNot:function(e,n,i){var t=a.OSS_URL+plus.storage.getItem("VIDEOFILENAME");mui.ajax(t,{type:"HEAD",success:function(e,t,o){n&&n(o)},error:function(e,t,o){i(e)}})}}}(window),function(e){!function(){var e=0,t=/Html5Plus\/.+\s\(.*(Immersed\/(\d+\.?\d*).*)\)/gi.exec(navigator.userAgent);if(t&&3<=t.length&&(e=parseFloat(t[2])),0<e){var o=document.querySelector("header"),n=document.querySelector(".mui-content");window.plus&&plus.navigator.setStatusBarStyle("light"),o&&(o.style.height=44+e-5+"px",o.style.paddingTop=e-5+"px"),n&&(n.dataset.ignore||(n.style.paddingTop=44+e-5+"px"))}}();document.addEventListener("plusready",function(){plus.webview.currentWebview().setStyle({scrollIndicator:"none"}),plus.screen.lockOrientation("portrait-primary")})}(window),window.logUtil={writeLocalLog:function(t,o){t=t||"config.txt",plus.io.requestFileSystem(plus.io.PRIVATE_DOC,function(e){e.root.getFile(t,{create:!0},function(e){e.createWriter(function(t){t.onwrite=function(e){},t.onwriteend=function(e){try{t.abort()}catch(e){}},t.seek(t.length),t.write(new Date+o+"\n")},function(e){})})},function(e){})}},function(r){function o(){return plus.storage.getItem("userInfo")?JSON.parse(plus.storage.getItem("userInfo")).token:""}r.methodUtil={getCamera:function(t){plus.camera.getCamera().captureImage(function(e){t(e)},function(e){},{filename:"_doc/camera/",index:1})},uploadImage:function(e,n){var t=plus.uploader.createUpload(r.FILE_UPLOAD,{method:"POST"},function(e,t){if(200==t){var o=JSON.parse(e.responseText);n(o)}else plus.nativeUI.toast("图片上传失败"),plus.nativeUI.closeWaiting()});t.addFile(e,{key:"file"}),t.setRequestHeader("token",o()),t.start()},checkToken:function(e,t,o,n){if(599==e.status){plus.nativeUI.closeWaiting();var i=plus.webview.getWebviewById("main");mui.fire(i,"destroyTokenTimer"),mui.toast("身份验证过期，请重新登录"),r.webviewUtil.show("login",null,null,null,null)}else n&&n(e,t,o)},filterEmoji:function(e){for(var t=0;t<e.length;t++){var o=e.charCodeAt(t);if(55296<=o&&o<=56319){if(1<e.length){var n=1024*(o-55296)+(e.charCodeAt(t+1)-56320)+65536;if(118784<=n&&n<=128895)return plus.nativeUI.toast("不能输入emoji表情!"),!1}}else if(1<e.length){if(8419==e.charCodeAt(t+1))return plus.nativeUI.toast("不能输入emoji表情!"),!1}else{if(8448<=o&&o<=10239)return plus.nativeUI.toast("不能输入emoji表情!"),!1;if(11013<=o&&o<=11015)return plus.nativeUI.toast("不能输入emoji表情!"),!1;if(10548<=o&&o<=10549)return plus.nativeUI.toast("不能输入emoji表情!"),!1;if(12951<=o&&o<=12953)return plus.nativeUI.toast("不能输入emoji表情!"),!1;if(169==o||174==o||12349==o||12336==o||11093==o||11036==o||11035==o||11088==o)return plus.nativeUI.toast("不能输入emoji表情!"),!1}}return!/[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF][\u200D|\uFE0F]|[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF]|[0-9|*|#]\uFE0F\u20E3|[0-9|#]\u20E3|[\u203C-\u3299]\uFE0F\u200D|[\u203C-\u3299]\uFE0F|[\u2122-\u2B55]|\u303D|[\A9|\AE]\u3030|\uA9|\uAE|\u3030/gi.test(e)||(plus.nativeUI.toast("不能输入emoji表情"),!1)},compressImage:function(e,t,o,n,i){i=i||40,plus.zip.compressImage({src:e,dst:t,overwrite:!0,quality:i},function(e){o&&o(e)},function(){n&&n()})},token:o,getImage:function(e,t,o){return t=t||100,o=o||100,r.IMAGE_GET_CONFIG+e+"?renditions=fill-"+t+"x"+o},solveSoftKeyboard:function(){var t=document.querySelectorAll("input"),o=document.querySelectorAll("textarea");if(t){for(var e=0;e<t.length;e++)t[e].readOnly=!0;setTimeout(function(){for(var e=0;e<t.length;e++)t[e].readOnly=!1},2e3)}if(o){for(e=0;e<o.length;e++)o[e].readOnly=!0;setTimeout(function(){for(var e=0;e<o.length;e++)o[e].readOnly=!1},1e3)}},getRole:function(){var e,t="0";return plus&&plus.storage&&plus.storage.getItem&&(e=JSON.parse(plus.storage.getItem("userInfo")))&&e.rolerId&&(t={"1bcfc6cc201542ab8947d5d7c7ca40d5":"0",e8919206b423421184d5ee2da1c1e938:"1"}[e.rolerId]||"0"),t},judgeAuthorityandDealt:function(){if(openedActions2=plus.navigator.checkPermission("LOCATION"),mui.os.ios)switch(plus.navigator.checkPermission("LOCATION")){case"authorized":break;default:mui.confirm("您没有开启定位，是否去设置？","提示",["确认","取消"],function(e){1==e.index||-1==e.index?plus.webview.currentWebview().close():plus.runtime.openURL("app-settings:")})}else{var e=plus.android.importClass("android.content.Context"),t=plus.android.importClass("android.location.LocationManager"),o=plus.android.runtimeMainActivity().getSystemService(e.LOCATION_SERVICE);androidIsOpen=o.isProviderEnabled(t.GPS_PROVIDER),androidIsOpen||mui.confirm("您没有开启定位，是否去设置？","提示",["确认","取消"],function(e){if(1!=e.index&&-1!=e.index){var t=plus.android.runtimeMainActivity(),o=new(plus.android.importClass("android.content.Intent"))(plus.android.importClass("android.provider.Settings").ACTION_LOCATION_SOURCE_SETTINGS);t.startActivity(o)}})}},checkIDcard:function(e){return!!/^[1-9]d{5}(19|20)d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)d{3}[0-9Xx]$/.test(e)},refreshTokenTimer:function(){var e=plus.webview.getWebviewById("main");mui.fire(e,"resetTokenTimer")},uploadVideo:function(e,n){var t=plus.uploader.createUpload(r.FILE_UPLOAD,{method:"POST",timeout:120,blocksize:0,retry:0},function(e,t){if(200==t){var o=JSON.parse(e.responseText);n(o)}else plus.nativeUI.toast("视频上传失败"),plus.nativeUI.closeWaiting()});t.addFile(e,{key:"file"}),t.setRequestHeader("token",o()),t.start()},getNowFormatDate:function(){var e=new Date,t=e.getMonth()+1,o=e.getDate();return 1<=t&&t<=9&&(t="0"+t),0<=o&&o<=9&&(o="0"+o),e.getFullYear()+""+t+o+"/"+e.getHours()},randomString:function(e){e=e||32;var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",o=t.length,n="";for(i=0;i<e;i++)n+=t.charAt(Math.floor(Math.random()*o));return n}}}(window),window.versionUpdate={compareVersion:function(e,t){if(!e||!t||""==e||""==t)return!1;for(var o=e.split(".",4),n=t.split(".",4),i=0;i<o.length&&i<n.length;i++){var r=o[i],a=parseInt(r),s=n[i],u=parseInt(s);if(a<u||s.length>r.length)return!0;if(u<a)return!1}return n.length>o.length&&0==t.indexOf(e)||void 0},getNowVersion:function(){return plus.runtime.version}},function(u){u.webviewUtil={show:function(e,t,o,n,i){var r=plus.webview.getWebviewById(e);if(t=t||"slide-in-right",o=o||"350",i=i||{},r){var a=r.children();r.show(t,o,n,i),a.length&&0<a.length&&a[a.length-1].show()}else{var s=u.VIEW_CONFIG[e];"qrScan"!=e&&"entry"!=e||(t="none"),s.show={aniShow:t,duration:o},s.waiting={autoShow:!1},s.extras=i,mui.openWindow(s)}},hide:function(e,t){var o=plus.webview.getWebviewById(e);o&&o.hide(),t&&t()},create:function(e,t){if(t=t?plus.webview.getWebviewById(t):void 0,e.length)for(var o in e){n=plus.webview.create(e[o].url,e[o].id,e[o].styles?e[o].styles:{});t&&t.append(n)}else{var n=plus.webview.create(e.url,e.id,e.styles?e.styles:{});t&&t.append(n)}}}}(window);